<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Scroll Routing Rules</title>
    <style>
        :root {
            --cork-dark-bg: #060818;
            --cork-card-bg: #0e1726;
            --cork-text-primary: #e0e6ed;
            --cork-text-secondary: #888ea8;
            --cork-primary-accent: #4361ee;
            --cork-secondary-accent: #1abc9c;
            --cork-success: #1abc9c;
            --cork-warning: #e2a03f;
            --cork-danger: #e7515a;
            --cork-info: #2196f3;
            --cork-border-color: #191e3a;
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            background-color: var(--cork-dark-bg);
            color: var(--cork-text-primary);
            padding: 20px;
            box-sizing: border-box;
        }

        .collapsible-panel {
            background: var(--cork-card-bg);
            border: 1px solid var(--cork-border-color);
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .panel-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          cursor: pointer;
          user-select: none;
        }

        .panel-title {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 600;
        }

        .panel-content {
          padding: 16px;
          max-height: 1000px;
          opacity: 1;
          transition: all 0.3s ease;
        }

        .routing-rules-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 10px;
          max-height: 400px;
          overflow-y: auto;
          padding-right: 8px;
        }
        
        /* Scrollbar styling for webkit */
        .routing-rules-list::-webkit-scrollbar {
          width: 8px;
        }
        .routing-rules-list::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 4px;
        }
        .routing-rules-list::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 4px;
        }
        .routing-rules-list::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }

        .routing-rule-card {
          background: rgba(8, 12, 28, 0.7);
          border: 1px solid var(--cork-border-color);
          border-radius: 8px;
          padding: 14px;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .routing-rule-header {
          display: flex;
          justify-content: space-between;
          gap: 12px;
          flex-wrap: wrap;
        }

        .routing-rule-title {
          flex: 1;
          min-width: 220px;
          display: flex;
          flex-direction: column;
          gap: 6px;
        }

        .routing-rule-controls {
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .routing-icon-btn {
          background: rgba(67, 97, 238, 0.12);
          border: 1px solid rgba(67, 97, 238, 0.4);
          color: var(--cork-text-primary);
          border-radius: 6px;
          padding: 6px 8px;
          cursor: pointer;
        }

        .routing-icon-btn:hover {
          background: rgba(67, 97, 238, 0.2);
        }

        .routing-rule-conditions {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .routing-condition-row {
          display: grid;
          grid-template-columns: 120px 1fr 1fr auto;
          gap: 8px;
          align-items: center;
        }

        .routing-rule-actions {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .form-group label {
          font-size: 0.9em;
          color: var(--cork-text-secondary);
        }

        .form-group input, .form-group select {
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid var(--cork-border-color);
          border-radius: 4px;
          padding: 8px;
          color: var(--cork-text-primary);
        }

        .btn {
          background: var(--cork-primary-accent);
          color: white;
          border: none;
          border-radius: 4px;
          padding: 8px 12px;
          cursor: pointer;
        }

        .btn:hover {
          background: #3651de;
        }

        @media (max-width: 768px) {
          .routing-rules-list {
            max-height: 300px;
          }
        }
    </style>
</head>
<body>
    <h1>Test Scroll Routing Rules</h1>
    <p>Cette page teste le scroll interne avec 5 r√®gles de routage.</p>

    <div class="collapsible-panel">
        <div class="panel-header">
          <div class="panel-title">
            <span>üß≠</span>
            <span>Routage Dynamique</span>
          </div>
        </div>
        <div class="panel-content">
          <div class="small-text" style="margin-bottom: 10px;">
            D√©finissez des r√®gles conditionnelles pour router les emails vers des webhooks d√©di√©s.
            Les r√®gles sont √©valu√©es dans l'ordre affich√©.
          </div>
          <div class="routing-rules-list" id="routingRulesList">
            <!-- R√®gle 1 -->
            <div class="routing-rule-card">
              <div class="routing-rule-header">
                <div class="routing-rule-title">
                  <input type="text" placeholder="Nom de la r√®gle" value="R√®gle 1 - Support Client">
                  <small style="color: var(--cork-text-secondary);">Priorit√©: Normal</small>
                </div>
                <div class="routing-rule-controls">
                  <button class="routing-icon-btn">üóëÔ∏è</button>
                </div>
              </div>
              <div class="routing-rule-conditions">
                <div class="routing-condition-row">
                  <select>
                    <option value="sender">Exp√©diteur</option>
                    <option value="subject">Sujet</option>
                    <option value="body">Corps</option>
                  </select>
                  <select>
                    <option value="contains">Contient</option>
                    <option value="equals">Est √©gal √†</option>
                    <option value="regex">Regex</option>
                  </select>
                  <input type="text" placeholder="Valeur" value="support">
                  <button class="routing-icon-btn">‚ùå</button>
                </div>
              </div>
              <div class="routing-rule-actions">
                <div class="form-group">
                  <label>Webhook URL</label>
                  <input type="text" placeholder="https://webhook.example.com" value="https://support.webhook.com">
                </div>
              </div>
            </div>

            <!-- R√®gle 2 -->
            <div class="routing-rule-card">
              <div class="routing-rule-header">
                <div class="routing-rule-title">
                  <input type="text" placeholder="Nom de la r√®gle" value="R√®gle 2 - Urgent">
                  <small style="color: var(--cork-text-secondary);">Priorit√©: Haute</small>
                </div>
                <div class="routing-rule-controls">
                  <button class="routing-icon-btn">üóëÔ∏è</button>
                </div>
              </div>
              <div class="routing-rule-conditions">
                <div class="routing-condition-row">
                  <select>
                    <option value="subject">Sujet</option>
                    <option value="sender">Exp√©diteur</option>
                    <option value="body">Corps</option>
                  </select>
                  <select>
                    <option value="contains">Contient</option>
                    <option value="equals">Est √©gal √†</option>
                    <option value="regex">Regex</option>
                  </select>
                  <input type="text" placeholder="Valeur" value="URGENT">
                  <button class="routing-icon-btn">‚ùå</button>
                </div>
              </div>
              <div class="routing-rule-actions">
                <div class="form-group">
                  <label>Webhook URL</label>
                  <input type="text" placeholder="https://webhook.example.com" value="https://urgent.webhook.com">
                </div>
              </div>
            </div>

            <!-- R√®gle 3 -->
            <div class="routing-rule-card">
              <div class="routing-rule-header">
                <div class="routing-rule-title">
                  <input type="text" placeholder="Nom de la r√®gle" value="R√®gle 3 - Facturation">
                  <small style="color: var(--cork-text-secondary);">Priorit√©: Normal</small>
                </div>
                <div class="routing-rule-controls">
                  <button class="routing-icon-btn">üóëÔ∏è</button>
                </div>
              </div>
              <div class="routing-rule-conditions">
                <div class="routing-condition-row">
                  <select>
                    <option value="sender">Exp√©diteur</option>
                    <option value="subject">Sujet</option>
                    <option value="body">Corps</option>
                  </select>
                  <select>
                    <option value="contains">Contient</option>
                    <option value="equals">Est √©gal √†</option>
                    <option value="regex">Regex</option>
                  </select>
                  <input type="text" placeholder="Valeur" value="facture">
                  <button class="routing-icon-btn">‚ùå</button>
                </div>
              </div>
              <div class="routing-rule-actions">
                <div class="form-group">
                  <label>Webhook URL</label>
                  <input type="text" placeholder="https://webhook.example.com" value="https://billing.webhook.com">
                </div>
              </div>
            </div>

            <!-- R√®gle 4 -->
            <div class="routing-rule-card">
              <div class="routing-rule-header">
                <div class="routing-rule-title">
                  <input type="text" placeholder="Nom de la r√®gle" value="R√®gle 4 - Marketing">
                  <small style="color: var(--cork-text-secondary);">Priorit√©: Normal</small>
                </div>
                <div class="routing-rule-controls">
                  <button class="routing-icon-btn">üóëÔ∏è</button>
                </div>
              </div>
              <div class="routing-rule-conditions">
                <div class="routing-condition-row">
                  <select>
                    <option value="subject">Sujet</option>
                    <option value="sender">Exp√©diteur</option>
                    <option value="body">Corps</option>
                  </select>
                  <select>
                    <option value="contains">Contient</option>
                    <option value="equals">Est √©gal √†</option>
                    <option value="regex">Regex</option>
                  </select>
                  <input type="text" placeholder="Valeur" value="newsletter">
                  <button class="routing-icon-btn">‚ùå</button>
                </div>
              </div>
              <div class="routing-rule-actions">
                <div class="form-group">
                  <label>Webhook URL</label>
                  <input type="text" placeholder="https://webhook.example.com" value="https://marketing.webhook.com">
                </div>
              </div>
            </div>

            <!-- R√®gle 5 -->
            <div class="routing-rule-card">
              <div class="routing-rule-header">
                <div class="routing-rule-title">
                  <input type="text" placeholder="Nom de la r√®gle" value="R√®gle 5 - Development">
                  <small style="color: var(--cork-text-secondary);">Priorit√©: Haute</small>
                </div>
                <div class="routing-rule-controls">
                  <button class="routing-icon-btn">üóëÔ∏è</button>
                </div>
              </div>
              <div class="routing-rule-conditions">
                <div class="routing-condition-row">
                  <select>
                    <option value="sender">Exp√©diteur</option>
                    <option value="subject">Sujet</option>
                    <option value="body">Corps</option>
                  </select>
                  <select>
                    <option value="contains">Contient</option>
                    <option value="equals">Est √©gal √†</option>
                    <option value="regex">Regex</option>
                  </select>
                  <input type="text" placeholder="Valeur" value="github">
                  <button class="routing-icon-btn">‚ùå</button>
                </div>
              </div>
              <div class="routing-rule-actions">
                <div class="form-group">
                  <label>Webhook URL</label>
                  <input type="text" placeholder="https://webhook.example.com" value="https://dev.webhook.com">
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>

    <div style="margin-top: 20px; padding: 16px; background: rgba(67, 97, 238, 0.1); border-radius: 8px;">
        <h3>Instructions de test:</h3>
        <ul>
            <li>La liste des r√®gles doit avoir une hauteur maximale de 400px</li>
            <li>Un scroll vertical doit appara√Ætre quand les r√®gles d√©passent cette hauteur</li>
            <li>Le header du panneau doit rester visible</li>
            <li>La scrollbar doit √™tre stylis√©e avec le th√®me cork</li>
            <li>Sur mobile (&lt;768px), la hauteur maximale doit √™tre de 300px</li>
        </ul>
    </div>
</body>
</html>
